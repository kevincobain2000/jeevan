<div id="login" class="animated fadeInDown">
  <div id="main" role="main">
  <%= render :partial =>"layouts/sly" %>
<!--     <header id="header">
          <div id="logo-group">
            <span id="logo">
              <a href="/">
                <%#= image_tag("logo-wide.png") %>
              </a>
            </span>
          </div>
    <span id="login-header-space">
      <span class="hidden-mobile">Already Have an Account ?</span>
      <%#= render "devise/shared/links" %>
    </span>
  </header> -->
  <%= render :partial =>'layouts/comingsoon'%>
    <!-- MAIN CONTENT -->
    <div id="content" class="container">
      <div class="row">
        <%= render :partial =>'layouts/signuptext'%>
        <div class="col-xs-12 col-sm-12 col-md-5 col-lg-4">
          <div class="well no-padding">
            <%= form_for(resource, :as => resource_name, :html => {:class => "smart-form client-form"}, :url => registration_path(resource_name)) do |f| %>
              <header>Sign Up</header>
              <fieldset>
                <section class="padding-10">
                  <%= devise_error_messages! %>
                </section>
              </fieldset>
              <fieldset>
                <section class="text-center">
                  <%= render "layouts/facebooksign.html.erb" %>
                </section>
              </fieldset>
              <fieldset>
                <section>
                  <label class="label">
                    <strong>Your Name</strong></label>
                    <small>Your name will only appear when you accept someone's interest or send an interest</small>
                  <label class="input">
                    <i class="icon-append fa fa-user"></i>
                    <%= f.text_field :name, :autofocus => true, :placeholder => "Name" %>
                  </label>

                </section>
                <section>
                  <label class="label"><strong>Date of Birth</strong>
                  <br>
                  <strong class="txt-color-red" id="date_show_words"></strong></label>
                    <label class="input">
                      <i class="icon-append fa fa-calendar" id="dob-cal"></i>
                      <!-- <input class="form-control" id="dob" type="text" name="user[dob]" value="dd/mm/yyyy"> -->
                      <input class="form-control" id="dob" type="text" placeholder="september 4 1985 ">
                      <input class="form-control" id="dob-hidden" type="hidden" name="user[dob]">
                    </label>
                    <div class="note">
                      <strong>Example</strong>
                      <span>sep 9 1985</span>
                    </div>
                  </section>
                <section>
                  <label class="label">
                    <strong>Username</strong></label>
                    <small>Used for login</small>
                  <label class="input">
                    <i class="icon-append fa fa-user"></i>
                    <%= f.text_field :username, :autofocus => true, :placeholder => "username" %>
                  </label>
                </section>
                <!-- <section> -->
                  <!-- <label class="label"><strong>Email</strong> (optional)</label> -->
                  <!-- <label class="input"> -->
                    <!-- <i class="icon-append fa fa-user"></i> -->
                    <%#= f.email_field :email, :placeholder => "Private" %>
                  <!-- </label> -->
                <!-- </section> -->
                <section>
                  <label class="label">Password</label>
                  <label class="input">
                    <i class="icon-append fa fa-lock"></i>
                    <%= f.password_field :password, :placeholder => "Password" %>
                  </label>
                </section>
                <section>
                  <label class="label">Password Confirmation</label>
                  <label class="input">
                    <i class="icon-append fa fa-lock"></i>
                    <%= f.password_field :password_confirmation, :placeholder => "Confirm Password" %>
                  </label>
                </section>
              </fieldset>
              <fieldset>
                <section>
                    <label class="label">Your <strong>Gender</strong></label>
                      <label class="radio"><%= f.radio_button :sex, "Male" %><i></i>Male</label>
                      <label class="radio"><%= f.radio_button :sex, "Female" %><i></i>Female</label>
                  </section>
                  <section>
                    <label class="label">
                    <i class="fa fa-sun-o"></i> <strong>Religion</strong> <span>and you are done !</span>
                  </label>
                  <input name="user[devotion]" class="selectized" id="select-devotion" placeholder="Religion">
                  <script type="text/javascript">
                  $("#select-devotion").selectize({
                    maxItems: 1,
                    valueField: "title",
                    labelField: "title",
                    searchField: "title",
                    options: [{title: "Hindu"}, {title: "Muslim"}, {title: "Christian"},{title: "Buddhist"}, {title: "Jain"}, {title: "Parsi"}, {title: "Other"}],
                    create: false,
                    render: {
                      option: function(item, escape) {
                        var desc;
                        desc = item.desc ? item.desc : "";
                        return '<div> <strong>' + item.title + '</strong><br><small>' + desc + '</small></div>';
                      }
                    }
                  });
                </script>
              </section>
                  <!-- <label class="checkbox">
                    <input type="checkbox" name="terms" id="terms">
                    <i></i>I agree with the
                    <a href="#" data-toggle="modal" data-target="#myModal">
                      Terms and Conditions
                    </a></label> -->
                </fieldset>
                <footer>
                  <!-- We will send you a confirmation link. Please confirm your Email address by logging into your email account. Depending on your email provider please also check your spam folder. -->
                  <hr>
                  <div class="note">
                    Already have an account ?
                    <%#= render "devise/shared/links" %>
                    <a href="/users/sign_in" class="">Sign In</a>
                  </div>
                  <legend></legend>
                  <button type="submit" id="signup-button" class="btn btn-primary">Sign Up</button>
                </footer>
              <% end %>
            </div>
          </div>
        </div>
        <%= render :partial =>'layouts/signuptext2'%>
      </div>
    </div>
  </div>

<script type="text/javascript">


  $(document).ready(function() {

    $("#dob-cal").datepicker({
      format: 'dd/mm/yyyy',
      startView: "decade",
    });
    $('#dob-cal').on('changeDate', function(ev){
      $(this).datepicker('hide');
      cal_date = $(this).datepicker('getDate');

      cal_date = cal_date.getDate() + " " + cal_date.getMonth() +" "+ cal_date.getFullYear()
      cal_date_parse = Date.parse(cal_date)

      $("#dob-hidden").val(cal_date_parse.toString('dd/MM/yyyy'));
      $("#dob").val(cal_date_parse.toString('dddd, MMMM d, yyyy'));
      $("#date_show_words").html(cal_date_parse.toString('dddd, MMMM d, yyyy'));
    });

    $("#dob").keyup(function(event) {
      date_input = $(this).val();
      the_date = Date.parse(date_input);
      if (the_date != null) {
        $("#date_show_words").html(the_date.toString('dddd, MMMM d, yyyy'));
        $("#dob-hidden").val(the_date.toString('dd/MM/yyyy'));
        $("#signup-button").removeClass("disabled");
      } else {
        $("#dob-hidden").val("");
        $("#date_show_words").html(_.sample(["argh..", "oops", "hmmm ?", "no no noo"]));
        $("#signup-button").addClass("disabled");
      }
    });
  });
  
</script>

<%#= render :partial =>'layouts/terms'%>