$(document).on("page:change",function(){function e(){$.ajax({url:"/profiles/get_selectize",type:"POST"}).success(function(e){select_profile_edit_items=e.data,t()})}function t(){for(name in selectize_items){if(options=selectize_items[name],css_id=name.replace(/_/g,"-"),val=$("#select-"+css_id).val()){_ref=val.split(",");for(key in _ref)value=_ref[key],select_profile_edit_items[name].push({title:value})}$("#select-"+css_id).selectize({maxItems:options.maxItems?options.maxItems:1,valueField:options.valueField?options.valueField:"title",labelField:options.labelField?options.labelField:"title",searchField:options.searchField?options.searchField:"title",options:select_profile_edit_items[name],create:options.create?options.create:!1,plugins:options.plugins?options.plugins:["remove_button","restore_on_backspace"],delimeter:options.delimeter?options.delimeter:",",render:{option:function(e){var t;return t=e.desc?e.desc:"","<div>"+e.title+"<br><small>"+t+"</small></div>"}}})}select_profile_edit_items=null}function i(e){e.find(":submit").html("Save"),e.find(":submit").removeClass("disabled")}function s(){var e;e=$("#imageid").attr("value"),$("#"+e).remove(),$(".superbox-list").removeClass("active"),$(".superbox-current-img").animate({opacity:0},200,function(){$(".superbox-show").slideUp()})}pageSetUp(),$("[id^=side]").click(function(){$("#hidden-"+this.id)[0].click()}),selectize_items={home:!0,religion:!0,mother_tongue:{create:!0},caste:{create:!0},sub_caste:{create:!0},native_place:{create:!0},birth_country:{create:!0},birth_city:{create:!0},posted_by:!0,marital_status:!0,values:!0,size:!0,status:!0,smoke:!0,drink:!0,diet:!0,own_house:!0,own_pet:!0,own_car:!0,complexion:!0,blood_group:!0,manglik:!0,sun_sign:!0,moon_sign:!0,nakshatra:{create:!0},hobby:{maxItems:10,create:!0,delimeter:","},interest:{maxItems:10,create:!0},music:{maxItems:10,create:!0},read:{maxItems:10,create:!0},dress:{maxItems:10,create:!0},tv:{maxItems:10,create:!0},movie:{maxItems:10,create:!0},sport:{maxItems:10,create:!0},cuisine:{maxItems:10,create:!0},vacation:{maxItems:10,create:!0},father:!0,mother:!0,brother:!0,sister:!0,family_income:!0,profile_handler:!0,school:{create:!0},grad_college:{create:!0},graduation:{create:!0},post_grad:{create:!0},post_grad_college:{create:!0},highest_degree:{create:!0},desired_marital_status:!0,desired_manglik:!0,desired_diet:!0,desired_smoke:!0,desired_drink:!0,desired_complexion:!0,desired_income:!0,desired_height:!0,desired_age:!0,desired_country:{maxItems:2,create:!0},desired_city:{maxItems:2,create:!0},desired_religion:!0,desired_caste:{maxItems:3,create:!0},desired_mother_tongue:{maxItems:3,create:!0},desired_education:{create:!0},desired_occupation:{create:!0},work_status:!0,occupation:!0,company:!0,annual_income:!0,settling_abroad:!0},$(".close-edit-modal").click(function(){$("#hidden-side-myprofile")[0].click()}),$("#user").data("id")&&e(),$(".phone").inputmask("mask",{mask:"(999) 9999-999-999"}),$.extend($.gritter.options,{position:"bottom-left",fade_in_speed:"medium",fade_out_speed:2e3,time:3e3}),$(".interest").click(function(){$.gritter.add({image:$(this).data("img"),title:$(this).data("title"),text:"Your have successfully "+$(this).data("msg")+"<br>"+$(this).data("url")}),$(this).addClass("disabled")}),$(".edit").click(function(){$(this).addClass("disabled")}),$("form.edit").bind("keyup change",function(){i($(this))}),$("form.edit").submit(function(){$(this).find(":submit").html("Saved")}),$(".superbox").on("click",".removeimage",function(){s()}),$(".superbox").SuperBox(),$(".superbox-list").click(function(){var e;e=$(this).find(".superbox-img"),$("#imageid").attr("value",e.attr("id"))}),$("form").on("focus","input[type=number]",function(){$(this).on("mousewheel.disableScroll",function(e){e.preventDefault()})}),$("form").on("blur","input[type=number]",function(){$(this).off("mousewheel.disableScroll")})}),$(document).ready(function(e){Dropzone.autoDiscover=!1,e(".dropzone").dropzone({paramName:"avatar",maxFilesize:1,addRemoveLinks:!1,acceptedFiles:".jpeg,.jpg,.png,.gif,.JPEG,.JPG,.PNG,.GIF",thumbnailWidth:300,thumbnailHeight:300,init:function(){this.on("success",function(e,t){if(422==t.status){for(e.previewElement.classList.add("dz-error"),_ref=e.previewElement.querySelectorAll("[data-dz-errormessage]"),_results=[],_i=0,_len=_ref.length;_len>_i;_i++)node=_ref[_i],_results.push(node.textContent=t.error);return _results}})}})});